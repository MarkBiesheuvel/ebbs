<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

<script>
  var audioCtx = new AudioContext()
  var buffers = {};

  function loadSample (key, url) {
    var request = new XMLHttpRequest()
    request.open('GET', url, true)
    request.responseType = 'arraybuffer'

    // Decode asynchronously
    request.onload = function () {
      audioCtx.decodeAudioData(request.response, function (buffer) {
        buffers[key] = buffer
      }, function (err) {
        console.error(err)
      })
    }
    request.send()
  }

  function playSound (key) {
    var source = audioCtx.createBufferSource()
    source.buffer = buffers[key]
    source.connect(audioCtx.destination)
    source.start(0)
  }

  loadSample('bd', 'Dirt-Samples/bd/BT3AADA.wav')
  loadSample('sn', 'Dirt-Samples/sn/ST3TAS3.wav')

  setTimeout(function () {
    playSound('bd')
  }, 1000)

  setTimeout(function () {
    playSound('sn')
  }, 2000)

  setTimeout(function () {
    playSound('bd')
  }, 3000)

</script>
</body>
</html>